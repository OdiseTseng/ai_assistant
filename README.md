# Odise Gemini Assistant

> [!IMPORTANT]
> **隱私權與安全性聲明**
> 本專案為純前端應用程式。您的 **Google Gemini API Key**、**通勤時間設定**、**常用路線**以及**即時位置資訊**，皆**僅儲存於您瀏覽器的 LocalStorage (本地端儲存)**。
> 我們**絕不會**將這些敏感資料上傳至任何後端伺服器或第三方資料庫。請安心使用。

一個基於 Google Gemini API 的個人化通勤助理網頁，整合了多種交通資訊查詢與路徑建議功能。

## ✨ 功能特色

- **個人化設定 (Personal Settings)**：
  - 自定義 **上班/下班時間**。
  - 設定 **通勤交通工具偏好** (火車、捷運、公車、YouBike)。
  - **最後一哩路 (Last Mile)**：設定抵達公司或住家前的最後一段轉乘建議 (例如：抵達南港車站後，騎 YouBike 到公司)。
- **全方位交通查詢**：
  - **火車**：全台火車站時刻查詢。
  - **捷運 (MRT)**：支援 台北、桃園、台中、高雄捷運路網。
  - **公車 & YouBike**：支援關鍵字搜尋與即時資訊。
- **智慧選站 (Toggle Selection)**：在搜尋結果中直接點擊即可加入/移除站點，視覺化管理您的常用清單。
- **GPS 智慧整合**：自動抓取當前位置，結合您的站點清單與時間，由 Gemini AI 生成最適合的交通建議。
- **自動版本號**：每次 Git Commit 自動注入更新時間，確保使用最新版本。

## 🚀 如何使用

### 1. 設定 API Key 與個人偏好
1. 點擊左側選單的 **「⚙️ 個人化設定」** (手機版請先點擊左上角漢堡選單)。
2. **API Key**：
   - 前往 [Google AI Studio](https://aistudio.google.com/) 申請 API Key。
   - 貼入設定欄位。 (再次提醒：Key 僅存在您的瀏覽器中)
3. **通勤設定**：
   - 設定您的上下班時間。
   - 勾選您平常會使用的交通工具。
   - (選填) 設定 **最後一哩路** 的站點與交通方式 (例如：下班回到 "板橋車站" 後，轉乘 "公車" 回家)。
4. 點擊 **「儲存設定」**。

### 2. 新增常用站點
1. 在儀表板各交通區塊 (火車、捷運等) 點擊 **「+」** 按鈕。
2. **搜尋/瀏覽**：
   - **火車/捷運**：可透過左側分類選單快速尋找。
   - **公車/YouBike**：在上方搜尋框輸入關鍵字 (如 "307", "台大醫院")。
3. **點擊選取**：
   - 點擊站點名稱即可 **選取 (變綠色)** 或 **取消選取**。
   - 選取完畢後關閉視窗，站點即會顯示在儀表板上。

### 3. 發送查詢
1. 確認首頁顯示 **「今日交通查詢」** 區塊。
2. 點擊 **「📍 根據設定取得 GPS 並查詢」**。
3. 允許瀏覽器獲取位置權限。
4. Gemini 將會綜合您的 **當前位置**、**現在時間**、**設定的目標(上班/下班)** 以及 **周邊站點資訊**，提供最佳路徑建議。

## ❓ 常見問題

- **Q: 頁面一直提示「尚未偵測到金鑰」？**
  - 請確認您已在「個人化設定」中貼上 Key 並點擊「儲存設定」。
  - **如果您使用 VS Code 的 Preview 功能**：某些 Preview 模式無法保存資料 (LocalStorage)。建議直接用電腦的 **Chrome 瀏覽器** 開啟 `index.html` 檔案。

- **Q: 為什麼 GPS 沒反應？**
  - 請確認瀏覽器有允許網頁存取位置權限。
  - 需要在 `https` 或 `file://` (本地檔案) 環境下執行。瀏覽器通常會阻擋非安全連線 (http) 的定位請求。

- **Q: 我的設定換了電腦還在嗎？**
  - 不在。因為資料是儲存在 **該台電腦瀏覽器** 的 LocalStorage 中。若更換設備或清除瀏覽器快取，需要重新設定。

## 🛠️ 開發資訊
- 使用 Vanilla JavaScript, HTML5, CSS3 建構，無繁重框架。
- 使用 `pre-commit` hook 自動更新 `version.js`。
